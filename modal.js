// Store full reviews data
const fullReviews = {
  'avengers-endgame': {
    title: 'Avengers: Endgame',
    image: 'https://upload.wikimedia.org/wikipedia/en/0/0d/Avengers_Endgame_poster.jpg',
    rating: '★★★★★',
    genre: 'Sci-Fi',
    year: '2024',
    runtime: '2h 35m',
    plot: '95',
    acting: '90',
    visuals: '98',
    fullReview: `A breathtaking superhero epic that redefines the genre with stunning visuals and compelling narrative. Directors Russo brothers deliver a masterpiece that will be remembered for generations. The culmination of over a decade of storytelling in the Marvel Cinematic Universe, Endgame brings together all your favorite heroes for one final battle against Thanos.

What makes this film truly special is how it balances large-scale action with intimate character moments. The emotional weight of the story is palpable, particularly in the performances of Robert Downey Jr. as Iron Man and Chris Evans as Captain America. The visual effects are nothing short of spectacular, with the final battle sequence setting a new standard for superhero films.

The film's three-hour runtime flies by thanks to tight pacing and excellent editing. The script manages to honor each character's journey while moving the overall story forward in a satisfying way. The fan service is plentiful but never feels gratuitous, with plenty of callbacks to previous films that will delight long-time fans.

In the end, Avengers: Endgame is more than just a movie - it's a cultural event that delivers on its massive promises while providing a fitting conclusion to this chapter of the MCU.`
  },
  'oppenheimer': {
    title: 'Oppenheimer',
    image: 'https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg',
    rating: '★★★★★',
    genre: 'Historical Drama',
    year: '2024',
    runtime: '2h 15m',
    plot: '98',
    acting: '95',
    visuals: '92',
    fullReview: `A gripping historical drama exploring the complexities of the atomic bomb creation with powerful performances and haunting score. Christopher Nolan's direction brings this period piece to life in a way that is both intellectually stimulating and emotionally devastating.

Cillian Murphy delivers a career-defining performance as J. Robert Oppenheimer, capturing both his brilliance and his torment with remarkable nuance. The supporting cast, including Robert Downey Jr. and Emily Blunt, is equally impressive, each bringing depth to their respective roles.

The film's non-linear narrative keeps viewers engaged as it explores the moral implications of scientific discovery and the devastating consequences of the Manhattan Project. The practical effects and cinematography are stunning, particularly in the Trinity test sequence, which is one of the most intense and visually striking scenes in recent memory.

What sets Oppenheimer apart is its ability to balance the scientific and political aspects of the story with the personal journey of its protagonist. The film doesn't shy away from the ethical dilemmas at its core, leaving viewers with much to ponder long after the credits roll.`
  },
  'the-batman': {
    title: 'The Batman',
    image: 'https://image.tmdb.org/t/p/w500/4SYTH5FdB0dAORV98Nwg3llgVnY.jpg',
    rating: '★★★★½',
    genre: 'Superhero',
    year: '2022',
    runtime: '2h 56m',
    plot: '92',
    acting: '94',
    visuals: '96',
    fullReview: `Matt Reeves' The Batman presents a fresh and grounded take on the Dark Knight, with Robert Pattinson delivering a brooding and intense performance as Bruce Wayne. The film's neo-noir aesthetic and detective-focused narrative set it apart from previous Batman adaptations.

The film's greatest strength lies in its atmospheric world-building and character development. Gotham City feels like a living, breathing character, and the cinematography perfectly captures its dark and gritty nature. The supporting cast, including Zoë Kravitz as Catwoman and Paul Dano as the Riddler, deliver standout performances that add depth to the story.

Michael Giacchino's score is haunting and memorable, perfectly complementing the film's tone. The action sequences are well-choreographed and impactful, particularly the thrilling car chase sequence featuring the Batmobile.

At nearly three hours, the film is undeniably long, but it maintains a gripping pace throughout. The detective story keeps viewers engaged, and the film's exploration of corruption and vengeance adds layers of complexity to the narrative. The Batman is a bold and ambitious take on the character that successfully carves its own identity in the crowded superhero genre.`
  },
  'dune-part-two': {
    title: 'Dune: Part Two',
    image: 'https://image.tmdb.org/t/p/w500/1pdfLvkbY9ohJlCjQH2CZjjYVvJ.jpg',
    rating: '★★★★★',
    genre: 'Sci-Fi',
    year: '2024',
    runtime: '2h 46m',
    plot: '97',
    acting: '95',
    visuals: '99',
    fullReview: `Denis Villeneuve's Dune: Part Two is a masterful continuation of the epic sci-fi saga, delivering breathtaking visuals, powerful performances, and a deeply immersive world. The film picks up where the first installment left off, following Paul Atreides as he embraces his destiny among the Fremen of Arrakis.

Timothée Chalamet delivers a career-best performance, perfectly capturing Paul's transformation from reluctant noble to messianic figure. The supporting cast, including Zendaya, Rebecca Ferguson, and Javier Bardem, are all excellent, with each character given room to shine.

The world-building is nothing short of spectacular, with the harsh beauty of Arrakis brought to life through stunning cinematography and visual effects. The sandworm sequences are particularly impressive, showcasing the sheer scale and power of these iconic creatures.

What sets Dune: Part Two apart is its willingness to explore complex themes of religion, politics, and destiny. The film doesn't shy away from the darker aspects of Frank Herbert's novel, resulting in a thought-provoking and emotionally resonant experience. The score by Hans Zimmer is another highlight, perfectly complementing the film's epic scope and emotional weight.`
  },
  'la-la-land': {
    title: 'La La Land',
    image: 'https://image.tmdb.org/t/p/w500/uDO8zWDhfWwoFdKS4fzkUJt0Rf0.jpg',
    rating: '★★★★★',
    genre: 'Musical',
    year: '2016',
    runtime: '2h 8m',
    plot: '95',
    acting: '94',
    music: '98',
    fullReview: `Damien Chazelle's La La Land is a dazzling love letter to classic Hollywood musicals that manages to feel both nostalgic and refreshingly original. The film follows the romantic and professional struggles of aspiring actress Mia (Emma Stone) and jazz pianist Sebastian (Ryan Gosling) as they navigate the challenges of pursuing their dreams in Los Angeles.

The chemistry between Stone and Gosling is electric, and their performances are filled with charm and vulnerability. The musical numbers are beautifully choreographed and shot, with the opening highway sequence and the planetarium dance being particular standouts. The film's vibrant color palette and stunning cinematography create a dreamlike atmosphere that perfectly complements its romantic tone.

Justin Hurwitz's score is nothing short of magical, with songs like 'City of Stars' and 'Audition (The Fools Who Dream)' becoming instant classics. The film's bittersweet ending is both heartbreaking and perfect, capturing the complexities of love and ambition.

What makes La La Land truly special is its ability to balance joy and melancholy, creating a deeply emotional experience that lingers long after the credits roll. It's a celebration of dreamers and the sacrifices they make, told with style, heart, and an abundance of cinematic flair.`
  },
  'interstellar': {
    title: 'Interstellar',
    image: 'INTERSTELLAR (2014) poster by Jximedesigns.jpg',
    rating: '★★★★★',
    genre: 'Sci-Fi',
    year: '2014',
    runtime: '2h 49m',
    plot: '98',
    acting: '95',
    visuals: '99',
    fullReview: `Christopher Nolan's Interstellar is a visually stunning and emotionally powerful sci-fi epic that explores the boundaries of space, time, and human connection. The film follows Cooper (Matthew McConaughey), a former NASA pilot turned farmer who is recruited for a mission to find a new habitable planet for humanity.

The film's scientific accuracy and attention to detail are remarkable, with Kip Thorne serving as an executive producer and scientific consultant. The depiction of black holes, wormholes, and time dilation is both scientifically grounded and visually breathtaking. The practical effects and miniatures used throughout the film give it a tangible, realistic quality that CGI-heavy films often lack.

At its core, Interstellar is a deeply emotional story about love, sacrifice, and the unbreakable bond between parent and child. The performances are outstanding across the board, with McConaughey delivering one of his most heartfelt performances to date. The score by Hans Zimmer is nothing short of transcendent, perfectly capturing the film's sense of wonder and emotional depth.

While the film's complex scientific concepts and nearly three-hour runtime may be challenging for some viewers, those who embrace its ambition will find a profoundly moving and thought-provoking experience. Interstellar is a rare blockbuster that combines intellectual stimulation with genuine emotional resonance, making it one of the most memorable sci-fi films of the 21st century.`
  },
  'oppenheimer': {
    title: 'Oppenheimer',
    image: 'Oppenheimer.jpeg',
    rating: '★★★★★',
    genre: 'Historical Drama',
    year: '2023',
    runtime: '3h',
    plot: '99',
    acting: '100',
    direction: '100',
    fullReview: `Christopher Nolan's Oppenheimer is a monumental achievement in filmmaking, a biopic that transcends the genre to become a profound meditation on scientific discovery, moral responsibility, and the nature of power. Cillian Murphy delivers a career-defining performance as J. Robert Oppenheimer, the brilliant physicist who led the Manhattan Project during World War II.

The film is structured in a non-linear fashion, jumping between different periods of Oppenheimer's life and the 1954 security clearance hearing that would define his legacy. This approach allows Nolan to explore the complex moral and ethical questions surrounding the creation of the atomic bomb with remarkable depth and nuance.

The supporting cast is exceptional, with standout performances from Robert Downey Jr. as Lewis Strauss, Emily Blunt as Kitty Oppenheimer, and Florence Pugh as Jean Tatlock. The film's technical achievements are equally impressive, from Hoyte van Hoytema's stunning cinematography to Jennifer Lame's masterful editing that maintains tension throughout the three-hour runtime.

What makes Oppenheimer truly remarkable is its ability to balance intimate character drama with the enormity of its historical implications. The Trinity test sequence is one of the most intense and visually striking moments in recent cinema, while the film's final act, focusing on the consequences of Oppenheimer's creation, is both devastating and thought-provoking.

Oppenheimer is not just a film about the making of the atomic bomb; it's a profound exploration of the human capacity for both creation and destruction. It's a challenging, intellectually stimulating, and emotionally devastating work that cements Nolan's status as one of the greatest filmmakers of our time.`
  }
};

// Function to open the modal with review content
function openReviewModal(movieId) {
  const review = fullReviews[movieId];
  if (!review) return;

  // Create modal HTML
  const modalHTML = `
    <div class="review-modal active" id="reviewModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>${review.title}</h2>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="modal-image" style="background-image: url('${review.image}')">
            <div class="fallback-text">${review.title}</div>
          </div>
          <div class="movie-meta">
            <span>${review.year}</span>
            <span>${review.runtime}</span>
            <span>${review.genre}</span>
          </div>
          <div class="rating-stars">${review.rating}</div>
          
          ${review.fullReview.split('\n\n').map(paragraph => `<p>${paragraph}</p>`).join('')}
          
          ${review.plot ? `
          <div class="review-stats">
            <div class="stat">
              <span class="stat-label">Plot</span>
              <div class="stat-bar">
                <div class="stat-fill" style="width: ${review.plot}%"></div>
              </div>
            </div>
            <div class="stat">
              <span class="stat-label">Acting</span>
              <div class="stat-bar">
                <div class="stat-fill" style="width: ${review.acting}%"></div>
              </div>
            </div>
            ${review.visuals ? `
            <div class="stat">
              <span class="stat-label">Visuals</span>
              <div class="stat-bar">
                <div class="stat-fill" style="width: ${review.visuals}%"></div>
              </div>
            </div>` : ''}
            ${review.music ? `
            <div class="stat">
              <span class="stat-label">Music</span>
              <div class="stat-bar">
                <div class="stat-fill" style="width: ${review.music}%"></div>
              </div>
            </div>` : ''}
            ${review.direction ? `
            <div class="stat">
              <span class="stat-label">Direction</span>
              <div class="stat-bar">
                <div class="stat-fill" style="width: ${review.direction}%"></div>
              </div>
            </div>` : ''}
          </div>` : ''}
        </div>
      </div>
    </div>
  `;

  // Add modal to the page
  document.body.insertAdjacentHTML('beforeend', modalHTML);
  document.body.style.overflow = 'hidden';

  // Add event listeners
  const modal = document.getElementById('reviewModal');
  const closeBtn = modal.querySelector('.close-modal');
  
  closeBtn.addEventListener('click', closeReviewModal);
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeReviewModal();
  });

  // Animate stat bars
  setTimeout(() => {
    const statBars = modal.querySelectorAll('.stat-fill');
    statBars.forEach(bar => {
      const width = bar.style.width;
      bar.style.width = '0';
      setTimeout(() => {
        bar.style.width = width;
      }, 100);
    });
  }, 100);
}

// Function to close the modal
function closeReviewModal() {
  const modal = document.getElementById('reviewModal');
  if (modal) {
    modal.classList.remove('active');
    setTimeout(() => {
      modal.remove();
      document.body.style.overflow = '';
    }, 300);
  }
}

// Add event listeners when the DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  // Add click handlers to all read more buttons
  document.querySelectorAll('.read-more-btn, .read-more-btn').forEach(button => {
    button.addEventListener('click', (e) => {
      e.preventDefault();
      const card = button.closest('.review-card');
      const movieTitle = card.querySelector('h4').textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');
      openReviewModal(movieTitle);
    });
  });

  // Close modal with Escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeReviewModal();
    }
  });
});
